{"ast":null,"code":"import _slicedToArray from\"D:/GitHub/kosohoval.github.io/react5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useCallback}from'react';import Button from'react-bootstrap/Button';import'./SoundItemForm.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SoundItemForm=function SoundItemForm(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),song=_useState4[0],setSong=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),mp3=_useState6[0],setMp3=_useState6[1];var _useState7=useState('stop'),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var handleSubmit=useCallback(function(event){event.preventDefault();setStatus('stop');var formData=new FormData();var fileField=document.querySelector('input[type=\"file\"]');formData.append('mp3',fileField.files[0]);console.log(fileField.files[0]);fetch(\"../mp3/\",{method:'PUT',body:formData}).then(function(res){if(res.ok){alert(\"Perfect! \");}else if(res.status===401){alert(\"Oops! \");}},function(e){alert(\"Error submitting form!\");});props.onSave(author,song,mp3,status);},[author,song,mp3,status,props]);var visibleForm=function visibleForm(){props.onVisible(false);};return/*#__PURE__*/_jsxs(\"form\",{enctype:\"multipart/form-data\",method:\"post\",className:\"sound-item-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2   text-left\",children:/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"author\",children:\"Author\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-10   text-right\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"author\",id:\"author\",required:true,onChange:function onChange(event){return setAuthor(event.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2   text-left\",children:/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"song\",children:\"Song\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-10   text-right\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"song\",id:\"song\",required:true,onChange:function onChange(event){return setSong(event.target.value);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2   text-left\",children:/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"mp3\",children:\"Mp3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-10   text-right\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"file\",name:\"mp3\",id:\"mp3\",accept:\"audio/*\",required:true,onChange:function onChange(event){return setMp3(\"../mp3/\".concat(event.target.files[0].name));}// setMp3(event.target.value)\n})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"outline-info mb-2 mt-3\",children:\"Add \\uD83C\\uDFB6\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"outline-info mb-2 mt-3 ml-5\",onClick:visibleForm,children:\"Cancel \\uD83C\\uDFB6\"})]})]});};export default SoundItemForm;","map":{"version":3,"sources":["D:/GitHub/kosohoval.github.io/react5/src/components/SoundItemForm/SoundItemForm.jsx"],"names":["useState","useCallback","Button","SoundItemForm","props","author","setAuthor","song","setSong","mp3","setMp3","status","setStatus","handleSubmit","event","preventDefault","formData","FormData","fileField","document","querySelector","append","files","console","log","fetch","method","body","then","res","ok","alert","e","onSave","visibleForm","onVisible","target","value","name"],"mappings":"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","sourcesContent":["import { useState, useCallback } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './SoundItemForm.css'\r\n\r\nconst SoundItemForm = (props) => {\r\n    const [author, setAuthor] = useState('');\r\n    const [song, setSong] = useState('');\r\n    const [mp3, setMp3] = useState('');\r\n    const [status, setStatus] = useState('stop');\r\n    const handleSubmit = useCallback((event) => {\r\n        event.preventDefault();\r\n        setStatus('stop');\r\n        const formData = new FormData();\r\n        const fileField = document.querySelector('input[type=\"file\"]');\r\n        formData.append('mp3', fileField.files[0]);\r\n        console.log(fileField.files[0]);\r\n        fetch(\"../mp3/\", {\r\n            method: 'PUT',\r\n            body: formData\r\n        })\r\n            .then(function (res) {\r\n                if (res.ok) {\r\n                    alert(\"Perfect! \");\r\n                } else if (res.status === 401) {\r\n                    alert(\"Oops! \");\r\n                }\r\n            }, function (e) {\r\n                alert(\"Error submitting form!\");\r\n            });\r\n\r\n        props.onSave(author, song, mp3, status);\r\n    }, [author, song, mp3, status, props]);\r\n\r\n    const visibleForm = () => {\r\n        props.onVisible(false);\r\n    };\r\n    return (\r\n        <form enctype=\"multipart/form-data\" method=\"post\" className=\"sound-item-form\" onSubmit={handleSubmit}>\r\n            <div className=\"row mt-2\">\r\n                <div className=\"col-2   text-left\">\r\n                    <label className=\"form-label\" htmlFor=\"author\">Author</label>\r\n                </div>\r\n                <div className=\"col-10   text-right\">\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        name=\"author\"\r\n                        id=\"author\"\r\n                        required\r\n                        onChange={(event) => setAuthor(event.target.value)}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n                <div className=\"col-2   text-left\">\r\n                    <label className=\"form-label\" htmlFor=\"song\">Song</label>\r\n                </div>\r\n                <div className=\"col-10   text-right\">\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"text\"\r\n                        name=\"song\"\r\n                        id=\"song\"\r\n                        required\r\n                        onChange={(event) => setSong(event.target.value)}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n                <div className=\"col-2   text-left\">\r\n                    <label className=\"form-label\" htmlFor=\"mp3\">Mp3</label>\r\n                </div>\r\n                <div className=\"col-10   text-right\">\r\n                    <input\r\n                        className=\"form-control\"\r\n                        type=\"file\"\r\n                        name=\"mp3\"\r\n                        id=\"mp3\"\r\n                        accept=\"audio/*\"\r\n                        required\r\n                        onChange={(event) => setMp3(`../mp3/${event.target.files[0].name}`)}\r\n                    // setMp3(event.target.value)\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n                <Button type=\"submit\" variant=\"outline-info mb-2 mt-3\">Add 🎶</Button>\r\n                <Button type=\"button\" variant=\"outline-info mb-2 mt-3 ml-5\" onClick={visibleForm}>Cancel 🎶</Button>\r\n            </div>\r\n        </form >\r\n    );\r\n}\r\n\r\nexport default SoundItemForm;"]},"metadata":{},"sourceType":"module"}